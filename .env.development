# ============================================
# CONFIGURACIÓN DE DESARROLLO - TRANSPARENCIA FISCAL
# ============================================

# ============================================
# AMBIENTE ACTUAL
# ============================================
NODE_ENV=development

# ============================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ============================================

# Puerto de la API
PORT=3001

# ============================================
# BASE DE DATOS - DESARROLLO
# ============================================
# Configuración individual de base de datos
DB_HOST=localhost
DB_PORT=1433
DB_NAME=DB_Transparencia_Fiscal
DB_USER=sa
DB_PASSWORD=RCRsql2023
DB_ENCRYPT=false
DB_TRUST_SERVER_CERTIFICATE=true

# DATABASE_URL se construye automáticamente en database.config.ts a partir de las variables anteriores
# Si necesitas definir DATABASE_URL manualmente, descomenta la línea siguiente:
# DATABASE_URL="sqlserver://localhost:1433;database=DB_Transparencia_Fiscal;user=sa;password=RCRsql2023;encrypt=false;trustServerCertificate=true"

# ============================================
# AUTENTICACIÓN JWT
# ============================================

# Secret para firmar tokens JWT (DEBE SER SEGURO EN PRODUCCIÓN)
# Genera uno con: openssl rand -base64 32
JWT_SECRET=e7c4a9b2f6d1a3c8e0f9b7d5c2a4e6f1a9b8c7d6e5f4a3b2c1d0e9f8a7

# Tiempo de expiración del token (30 minutos por defecto)
JWT_EXPIRATION=30m

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================

# Orígenes permitidos para desarrollo
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,http://192.168.50.18:3001,http://192.168.50.18:3000

# ============================================
# LOGGING
# ============================================

# Nivel de logging: error, warn, info, debug
LOG_LEVEL=debug

# ============================================
# SEGURIDAD ADICIONAL
# ============================================

# Tasa límite para API (requests por minuto)
# RATE_LIMIT=100

# Tiempo de expiración de sesión (en segundos)
# SESSION_EXPIRY=3600

# ============================================
# CONFIGURACIONES OPCIONALES
# ============================================

# URL base para la API (si está detrás de un proxy)
# API_BASE_URL=/api/v1

# Tiempo de espera para conexiones a BD (ms)
# DB_CONNECTION_TIMEOUT=30000

# Pool de conexiones máximo
# DB_POOL_MAX=10

# ============================================
# CONFIGURACIÓN DE EMAIL
# ============================================

MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=soporte.csi@morelos.gob.mx
MAIL_PASSWORD=jnwsghxuoonblgxs
MAIL_FROM=soporte.csi@morelos.gob.mx
MAIL_REPLY_TO=no-reply@morelos.gob.mx

# ============================================
# CONFIGURACIÓN DE SUBIDA DE ARCHIVOS
# ============================================

UPLOAD_DIR="./uploads"
MAX_FILE_SIZE="52428800" # 50MB
ALLOWED_EXTENSIONS="pdf,doc,docx,xls,xlsx,ppt,pptx,txt,csv,json,xml,zip,rar,7z"
AUTO_CREATE_DIRECTORIES="true"

# ============================================
# INSTRUCCIONES DE CONFIGURACIÓN
# ============================================

# 1. PARA DESARROLLO:
#    - Configura DATABASE_URL con tus credenciales de SQL Server local
#    - Asegúrate que SQL Server esté corriendo en localhost:1433
#    - Crea la base de datos: transparencia_fiscal_dev
#    - Ejecuta: npx prisma migrate dev --name init
#    - Ejecuta: npx tsx prisma/seed.ts
#    - Usa: npm run start:dev

# 2. SEGURIDAD:
#    - NUNCA commits este archivo a Git (está en .gitignore)
#    - Usa diferentes JWT_SECRET para desarrollo y producción
#    - En desarrollo, puedes usar valores por defecto pero cambia las contraseñas
