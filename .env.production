# ============================================
# CONFIGURACIÓN DE PRODUCCIÓN - TRANSPARENCIA FISCAL
# ============================================

# ============================================
# AMBIENTE ACTUAL
# ============================================
NODE_ENV=production

# ============================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ============================================

# Puerto de la API
PORT=3001

# ============================================
# BASE DE DATOS - PRODUCCIÓN
# ============================================
# Configuración individual de base de datos
DB_HOST=localhost
DB_PORT=1433
DB_NAME=DB_Transparencia_Fiscal
DB_USER=sa
DB_PASSWORD=RCRsql2023
DB_ENCRYPT=false
DB_TRUST_SERVER_CERTIFICATE=true

# DATABASE_URL se construye automáticamente en database.config.ts a partir de las variables anteriores
# Si necesitas definir DATABASE_URL manualmente, descomenta la línea siguiente:
# DATABASE_URL="sqlserver://192.168.105.14:1433;database=DB_Transparencia_Fiscal;user=usuing;password=874618;encrypt=false;trustServerCertificate=true"

# ============================================
# AUTENTICACIÓN JWT
# ============================================

# Secret para firmar tokens JWT (DEBE SER SEGURO EN PRODUCCIÓN)
JWT_SECRET=e7c4a9b2f6d1a3c8e0f9b7d5c2a4e6f1a9b8c7d6e5f4a3b2c1d0e9f8a7

# Tiempo de expiración del token (30 minutos por defecto)
JWT_EXPIRATION=30m

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================

# Orígenes para producción (separados por coma si hay múltiples)
CORS_ORIGIN=https://app.administracionyfinanzas.morelos.gob.mx

# ============================================
# LOGGING
# ============================================

# Nivel de logging: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# SEGURIDAD ADICIONAL
# ============================================

# Tasa límite para API (requests por minuto)
RATE_LIMIT=100

# Tiempo de expiración de sesión (en segundos)
SESSION_EXPIRY=3600

# ============================================
# CONFIGURACIONES OPCIONALES
# ============================================

# URL base para la API (si está detrás de un proxy)
# API_BASE_URL=/api/v1

# Tiempo de espera para conexiones a BD (ms)
DB_CONNECTION_TIMEOUT=30000

# Pool de conexiones máximo
DB_POOL_MAX=10

# ============================================
# CONFIGURACIÓN DE EMAIL
# ============================================

MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=soporte.csi@morelos.gob.mx
MAIL_PASSWORD=jnwsghxuoonblgxs
MAIL_FROM=soporte.csi@morelos.gob.mx
MAIL_REPLY_TO=no-reply@morelos.gob.mx

# ============================================
# CONFIGURACIÓN DE SUBIDA DE ARCHIVOS
# ============================================

UPLOAD_DIR="./uploads"
MAX_FILE_SIZE="52428800" # 50MB
ALLOWED_EXTENSIONS="pdf,doc,docx,xls,xlsx,ppt,pptx,txt,csv,json,xml,zip,rar,7z"
AUTO_CREATE_DIRECTORIES="true"

# ============================================
# INSTRUCCIONES DE CONFIGURACIÓN
# ============================================

# 1. PARA PRODUCCIÓN:
#    - Este archivo debe usarse solo en el servidor de producción
#    - Las variables sensibles deben gestionarse mediante secretos del sistema
#    - Usa: npm run build && npm run start:prod

# 2. SEGURIDAD:
#    - NUNCA commits este archivo a Git (está en .gitignore)
#    - Usa diferentes JWT_SECRET para desarrollo y producción
#    - En producción, usa contraseñas fuertes y gestiona secretos de forma segura
#    - Considera usar un servicio de gestión de secretos para credenciales

# 3. MONITOREO:
#    - Configura logging apropiado para producción (nivel info o warn)
#    - Implementa monitoreo de salud de la API
#    - Configura alertas para errores críticos
